library ieee;
use ieee.std_logic_1164.all;

entity DEMUX is
    generic (
        N : positive := 2
    );
    port (
        Sel : in std_logic_vector (log2(N) - 1 downto 0);
        D : in std_logic;
        Y : out std_logic_vector (N - 1 downto 0)
    );
end entity DEMUX;

architecture Behavioral of DEMUX is
begin
    process (Sel, D)
    begin
        for i in 0 to N - 1 loop
            if to_integer(unsigned(Sel)) = i then
                Y(i) <= D;
            else
                Y(i) <= '0';
            end if;
        end loop;
    end process;
end architecture Behavioral;
